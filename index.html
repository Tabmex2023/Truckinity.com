<!DOCTYPE html>
<html lang="de">
<head>

<!-- ========================= -->
<!-- BASIC META -->
<!-- ========================= -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Truckinity â€“ Drivers United. The international network for truck drivers across Europe.">
<meta name="keywords" content="Truckinity, Drivers United, LKW Netzwerk, Fahrer Community">
<meta name="author" content="Truckinity">
<meta name="theme-color" content="#000000">

<title>Truckinity â€“ Drivers United</title>

<!-- ========================= -->
<!-- ICONS -->
<!-- ========================= -->

<link rel="icon" type="image/png" sizes="32x32" href="assets/logo-32.png">
<link rel="apple-touch-icon" sizes="192x192" href="assets/logo-192.png">
<link rel="manifest" href="manifest.json">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="Truckinity">

<!-- ========================= -->
<!-- STYLES -->
<!-- ========================= -->
<link rel="stylesheet" href="css/style.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">

</head>
<body>

<!-- ========================= -->
<!-- HEADER -->
<!-- ========================= -->
<header class="main-header">

    <div class="logo-container">
        <img src="assets/logo.png" alt="Truckinity â€“ Drivers United" class="logo">
    </div>

    <div class="header-right">
        
        <!-- Sprache Dropdown -->
        <div class="language-dropdown">
            <div class="current-lang" onclick="toggleLangMenu()">
                ğŸŒ <span id="currentLanguage">Deutsch</span>
            </div>
            <div class="lang-menu" id="langMenu">
                <div onclick="setLanguage('de')">ğŸ‡©ğŸ‡ª Deutsch</div>
                <div onclick="setLanguage('en')">ğŸ‡¬ğŸ‡§ English</div>
                <div onclick="setLanguage('ru')">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</div>
            </div>
        </div>

        <!-- Login / Logout -->
        <div class="auth-section">
            <button id="loginBtn" class="login-btn">Login</button>
        </div>

    </div>

</header>

<!-- ========================= -->
<!-- HERO -->
<!-- ========================= -->
<section class="hero">
    <h1 data-i18n="hero_title"></h1>
    <p data-i18n="hero_subtitle"></p>
    <a href="#" class="cta" data-i18n="hero_button"></a>
</section>

<!-- ========================= -->
<!-- FEATURES -->
<!-- ========================= -->
<section class="features">
    <div class="card">
        <h3 data-i18n="feature1_title"></h3>
        <p data-i18n="feature1_text"></p>
    </div>
    <div class="card">
        <h3 data-i18n="feature2_title"></h3>
        <p data-i18n="feature2_text"></p>
    </div>
    <div class="card">
        <h3 data-i18n="feature3_title"></h3>
        <p data-i18n="feature3_text"></p>
    </div>
</section>

<!-- ========================= -->
<!-- FOOTER -->
<!-- ========================= -->
<footer>
    <p>Â© 2026 Truckinity â€“ Drivers United</p>
</footer>

<!-- ========================= -->
<!-- LOGIN / REGISTER MODAL -->
<!-- ========================= -->
<div id="authModal" class="modal">
  <div class="modal-content">
    <span class="close-btn" id="closeModal">&times;</span>
    <h2 id="modalTitle">Login</h2>

    <form id="authForm">
      <input type="email" id="authEmail" placeholder="Email" required>
      <input type="password" id="authPassword" placeholder="Passwort" required>
      <button type="submit" id="authSubmit">Login</button>
    </form>

    <p id="switchText">
      Noch kein Account? <span id="switchMode">Registrieren</span>
    </p>

    <p id="authError" style="color: var(--accent-orange);"></p>
  </div>
</div>

<!-- ========================= -->
<!-- JAVASCRIPT -->
<!-- ========================= -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } 
from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

// === Firebase Config ===
const firebaseConfig = {
  apiKey: "AIzaSyD2RHKOn6gaQmQ-AqJTvD2E5vsLp9z54h0",
  authDomain: "truckinity.firebaseapp.com",
  projectId: "truckinity",
  storageBucket: "truckinity.firebasestorage.app",
  messagingSenderId: "150787942012",
  appId: "1:150787942012:web:47214cfb6f3fb1c66c0bf9",
  measurementId: "G-P2S4B6N6PR"
};

// Firebase initialisieren
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

// Modal Elemente
const authModal = document.getElementById('authModal');
const loginBtn = document.getElementById('loginBtn');
const closeModal = document.getElementById('closeModal');
const switchMode = document.getElementById('switchMode');
const modalTitle = document.getElementById('modalTitle');
const authSubmit = document.getElementById('authSubmit');
const authForm = document.getElementById('authForm');
const authEmail = document.getElementById('authEmail');
const authPassword = document.getElementById('authPassword');
const authError = document.getElementById('authError');
let isLogin = true;

// Modal Ã¶ffnen / schlieÃŸen
loginBtn.addEventListener('click', () => { authModal.style.display = 'block'; });
closeModal.addEventListener('click', () => { authModal.style.display = 'none'; });
window.addEventListener('click', (e) => { if(e.target === authModal) authModal.style.display = 'none'; });

// Login / Register Modus wechseln
switchMode.addEventListener('click', () => {
    isLogin = !isLogin;
    if(isLogin){
        modalTitle.textContent = 'Login';
        authSubmit.textContent = 'Login';
        switchMode.textContent = 'Registrieren';
    } else {
        modalTitle.textContent = 'Registrieren';
        authSubmit.textContent = 'Login';
        switchMode.textContent = 'Login';
    }
});

// Formular Submit (Firebase Auth)
authForm.addEventListener('submit', (e) => {
    e.preventDefault();
    authError.textContent = '';
    const email = authEmail.value;
    const password = authPassword.value;

    if(isLogin){
        signInWithEmailAndPassword(auth, email, password)
        .then(userCredential => {
            authModal.style.display = 'none';
            authForm.reset();
        })
        .catch(error => { authError.textContent = error.message; });
    } else {
        createUserWithEmailAndPassword(auth, email, password)
        .then(userCredential => {
            authModal.style.display = 'none';
            authForm.reset();
        })
        .catch(error => { authError.textContent = error.message; });
    }
});

// Auth State Ã¼berwachen (Login/Logout Button)
onAuthStateChanged(auth, (user) => {
    if(user){
        loginBtn.textContent = 'Logout';
        loginBtn.onclick = () => {
            signOut(auth).then(() => { loginBtn.textContent = 'Login'; });
        };
    } else {
        loginBtn.textContent = 'Login';
        loginBtn.onclick = () => { authModal.style.display = 'block'; };
    }
});
</script>

<script src="js/app.js"></script>

</body>
</html>
